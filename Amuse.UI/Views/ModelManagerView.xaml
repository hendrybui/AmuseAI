<local:SettingsViewBase x:Class="Amuse.UI.Views.ModelManagerView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:system="clr-namespace:System;assembly=mscorlib"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:local="clr-namespace:Amuse.UI.Views"
             xmlns:behaviors="clr-namespace:Amuse.UI.Behaviors"
             xmlns:userControls="clr-namespace:Amuse.UI.UserControls"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800" x:Name="UI" >
    <local:SettingsViewBase.Resources>

        <DataTemplate x:Key="LayoutViewItemSmallTemplate">

            <DockPanel Height="170" >
                <StackPanel DockPanel.Dock="Bottom" Background="{StaticResource ContainerBackground}">
                    <TextBlock Text="{Binding Name}" TextAlignment="Center" FontWeight="DemiBold" FontSize="10" Margin="0,2,0,2" />
                    <DockPanel HorizontalAlignment="Stretch" Margin="3,0" TextBlock.FontSize="9">
                        <TextBlock DockPanel.Dock="Left" Text="{Binding Author}" HorizontalAlignment="Left" Opacity=".7" />
                        <TextBlock Text="{Binding Template, Converter={StaticResource EnumDescriptionConverter}}" HorizontalAlignment="Right" Opacity=".7"/>
                    </DockPanel>
                </StackPanel>
                <Grid Background="Transparent" ClipToBounds="True">
                    <userControls:FontAwesome x:Name="icon" Size="48" IconStyle="Light" RenderTransformOrigin="0.5,0.5" >
                        <userControls:FontAwesome.Style>
                            <Style TargetType="{x:Type userControls:FontAwesome}">
                                <Setter Property="Icon" Value="&#xf5fd;" />
                                <Setter Property="Color" Value="{StaticResource AccentColour2}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsUserTemplate}" Value="True">
                                        <Setter Property="Color" Value="{StaticResource AccentColour1}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Category}" Value="Upscaler">
                                        <Setter Property="Icon" Value="&#xf424;" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Category}" Value="ControlNet">
                                        <Setter Property="Icon" Value="&#xf6ff;" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Category}" Value="FeatureExtractor">
                                        <Setter Property="Icon" Value="&#xf302;" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </userControls:FontAwesome.Style>
                        <userControls:FontAwesome.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                        </userControls:FontAwesome.RenderTransform>
                    </userControls:FontAwesome>
                    <userControls:CachedMedia x:Name="image" Stretch="UniformToFill" CacheName="{Binding Id}" MediaUrl="{Binding ImageIcon}" HorizontalAlignment="Center" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5">
                        <userControls:CachedMedia.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                        </userControls:CachedMedia.RenderTransform>
                    </userControls:CachedMedia>
                    <StackPanel HorizontalAlignment="Right">
                        <Border Background="Lime" Visibility="{Binding IsInstalled, Converter={StaticResource BooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" >
                            <TextBlock Text="Installed" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="10" TextAlignment="Center"/>
                        </Border>
                        <Border Background="{StaticResource WarningColour}" Visibility="{Binding IsUpdateAvailable, Converter={StaticResource BooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" >
                            <TextBlock Text="Update Available" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="10" TextAlignment="Center"/>
                        </Border>
                        <Border Background="Aqua" Visibility="{Binding IsDownloading, Converter={StaticResource BooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8">
                            <Grid>
                                <TextBlock Text="Downloading..." Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="10" TextAlignment="Center" Visibility="{Binding IsQueued, Converter={StaticResource InverseBooleanToVisibilityConverter}}"/>
                                <TextBlock Text="Download Queued" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="10" TextAlignment="Center" Visibility="{Binding IsQueued, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                            </Grid>
                        </Border>
                        <Border Background="Gray" Visibility="{Binding IsUserTemplate, Converter={StaticResource InverseBooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8">
                            <TextBlock Text="Template" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="10" TextAlignment="Center"/>
                        </Border>

                        <Border Background="White" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" Visibility="{Binding LicenceType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Commercial}" ToolTip="All images created with this model can be used for personal and commercial purposes.">
                            <TextBlock Text="{Binding LicenceType}" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="10" TextAlignment="Center"/>
                        </Border>

                        <ItemsControl ItemsSource="{Binding Variants, Mode=OneWay}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="{StaticResource WarningColour}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" >
                                        <TextBlock Text="{Binding}" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="10" TextAlignment="Center"/>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>

                        <ItemsControl ItemsSource="{Binding Labels, Mode=OneWay}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="White" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" >
                                        <TextBlock Text="{Binding}" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="10" TextAlignment="Center"/>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>

                    </StackPanel>
                </Grid>
            </DockPanel>

            <DataTemplate.Triggers>
                <EventTrigger RoutedEvent="MouseEnter">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1.4" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1.4" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1.2" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1.2" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
                <EventTrigger RoutedEvent="MouseLeave">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>

        <DataTemplate x:Key="LayoutViewItemLargeTemplate">

            <DockPanel Height="222" >
                <StackPanel DockPanel.Dock="Bottom" Background="{StaticResource ContainerBackground}">
                    <TextBlock Text="{Binding Name}" TextAlignment="Center" FontWeight="DemiBold" FontSize="14" Margin="0,2,0,5" />
                    <DockPanel HorizontalAlignment="Stretch" Margin="3,0" TextBlock.FontSize="12">
                        <TextBlock DockPanel.Dock="Left" Text="{Binding Author}" HorizontalAlignment="Left" Opacity=".7" />
                        <TextBlock Text="{Binding Template, Converter={StaticResource EnumDescriptionConverter}}" HorizontalAlignment="Right" Opacity=".7"/>
                    </DockPanel>
                </StackPanel>
                <Grid Background="Transparent" ClipToBounds="True">
                    <userControls:FontAwesome x:Name="icon" Size="100" IconStyle="Light" RenderTransformOrigin="0.5,0.5" >
                        <userControls:FontAwesome.Style>
                            <Style TargetType="{x:Type userControls:FontAwesome}">
                                <Setter Property="Icon" Value="&#xf5fd;" />
                                <Setter Property="Color" Value="{StaticResource AccentColour2}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsUserTemplate}" Value="True">
                                        <Setter Property="Color" Value="{StaticResource AccentColour1}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Category}" Value="Upscaler">
                                        <Setter Property="Icon" Value="&#xf424;" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Category}" Value="ControlNet">
                                        <Setter Property="Icon" Value="&#xf6ff;" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Category}" Value="FeatureExtractor">
                                        <Setter Property="Icon" Value="&#xf302;" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </userControls:FontAwesome.Style>
                        <userControls:FontAwesome.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                        </userControls:FontAwesome.RenderTransform>
                    </userControls:FontAwesome>
                    <userControls:CachedMedia x:Name="image" CacheName="{Binding Id}" MediaUrl="{Binding ImageIcon, IsAsync=True}" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5">
                        <userControls:CachedMedia.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                        </userControls:CachedMedia.RenderTransform>
                    </userControls:CachedMedia>
                    <StackPanel HorizontalAlignment="Right">
                        <Border Background="Lime" Visibility="{Binding IsInstalled, Converter={StaticResource BooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0">
                            <TextBlock Text="Installed" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="12" TextAlignment="Center"/>
                        </Border>
                        <Border Background="{StaticResource WarningColour}" Visibility="{Binding IsUpdateAvailable, Converter={StaticResource BooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" >
                            <TextBlock Text="Update Available" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="12" TextAlignment="Center"/>
                        </Border>
                        <Border Background="Aqua" Visibility="{Binding IsDownloading, Converter={StaticResource BooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8">
                            <Grid>
                                <TextBlock Text="Downloading..." Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="12" TextAlignment="Center" Visibility="{Binding IsQueued, Converter={StaticResource InverseBooleanToVisibilityConverter}}"/>
                                <TextBlock Text="Download Queued" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="12" TextAlignment="Center" Visibility="{Binding IsQueued, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                            </Grid>
                        </Border>
                        <Border Background="Gray" Visibility="{Binding IsUserTemplate, Converter={StaticResource InverseBooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0">
                            <TextBlock Text="Template" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="12" TextAlignment="Center"/>
                        </Border>
                        <Border Background="White" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" Visibility="{Binding LicenceType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Commercial}" ToolTip="All images created with this model can be used for personal and commercial purposes.">
                            <TextBlock Text="{Binding LicenceType}" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="12" TextAlignment="Center"/>
                        </Border>
                        <ItemsControl ItemsSource="{Binding Variants, Mode=OneWay}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="{StaticResource WarningColour}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" >
                                        <TextBlock Text="{Binding}" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="12" TextAlignment="Center"/>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <ItemsControl ItemsSource="{Binding Labels, Mode=OneWay}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="White" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" >
                                        <TextBlock Text="{Binding}" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="10" TextAlignment="Center"/>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Grid>
            </DockPanel>

            <DataTemplate.Triggers>
                <EventTrigger RoutedEvent="MouseEnter">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1.4" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1.4" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1.2" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1.2" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
                <EventTrigger RoutedEvent="MouseLeave">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>

        <DataTemplate x:Key="LayoutListViewTemplate">
            <DockPanel Background="{StaticResource ContainerBackground}">
                <Grid DockPanel.Dock="Left" Width="70" Height="70" ClipToBounds="True">
                    <userControls:FontAwesome x:Name="icon" Size="44" IconStyle="Light" RenderTransformOrigin="0.5,0.5" >
                        <userControls:FontAwesome.Style>
                            <Style TargetType="{x:Type userControls:FontAwesome}">
                                <Setter Property="Icon" Value="&#xf5fd;" />
                                <Setter Property="Color" Value="{StaticResource AccentColour2}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsUserTemplate}" Value="True">
                                        <Setter Property="Color" Value="{StaticResource AccentColour1}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Category}" Value="Upscaler">
                                        <Setter Property="Icon" Value="&#xf424;" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Category}" Value="ControlNet">
                                        <Setter Property="Icon" Value="&#xf6ff;" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Category}" Value="FeatureExtractor">
                                        <Setter Property="Icon" Value="&#xf302;" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </userControls:FontAwesome.Style>
                        <userControls:FontAwesome.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                        </userControls:FontAwesome.RenderTransform>
                    </userControls:FontAwesome>
                    <userControls:CachedMedia x:Name="image" Stretch="UniformToFill" CacheName="{Binding Id}" MediaUrl="{Binding ImageIcon, IsAsync=True}" RenderOptions.BitmapScalingMode="HighQuality" SnapsToDevicePixels="True" RenderTransformOrigin="0.5,0.5">
                        <userControls:CachedMedia.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                        </userControls:CachedMedia.RenderTransform>
                    </userControls:CachedMedia>
                </Grid>
                <DockPanel DockPanel.Dock="Right">
                    <StackPanel DockPanel.Dock="Top" Margin="2" HorizontalAlignment="Right">
                        <Border Background="LimeGreen" Visibility="{Binding IsInstalled, Converter={StaticResource BooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0">
                            <TextBlock Text="Installed" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="11" TextAlignment="Center"/>
                        </Border>
                        <Border Background="{StaticResource WarningColour}" Visibility="{Binding IsUpdateAvailable, Converter={StaticResource BooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" >
                            <TextBlock Text="Update Available" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="11" TextAlignment="Center"/>
                        </Border>
                        <Border Background="Aqua" Visibility="{Binding IsDownloading, Converter={StaticResource BooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8">
                            <Grid>
                                <TextBlock Text="Downloading..." Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="11" TextAlignment="Center" Visibility="{Binding IsQueued, Converter={StaticResource InverseBooleanToVisibilityConverter}}"/>
                                <TextBlock Text="Download Queued" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="11" TextAlignment="Center" Visibility="{Binding IsQueued, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                            </Grid>
                        </Border>
                        <Border Background="Gray" Visibility="{Binding IsUserTemplate, Converter={StaticResource InverseBooleanToVisibilityConverter}}" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0">
                            <TextBlock Text="Template" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="11" TextAlignment="Center"/>
                        </Border>
                        <Border Background="White" BorderBrush="{StaticResource ContainerBackground}" BorderThickness="1" CornerRadius="0" Padding="4,0,4,1" HorizontalAlignment="Stretch" Margin="0" Opacity=".8" Visibility="{Binding LicenceType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Commercial}" ToolTip="All images created with this model can be used for personal and commercial purposes.">
                            <TextBlock Text="{Binding LicenceType}" Foreground="{StaticResource ContainerBackground}" FontWeight="Bold" FontSize="11" TextAlignment="Center"/>
                        </Border>
                    </StackPanel>
                    <StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,0,4,4">
                        <TextBlock Text="{Binding Author}" HorizontalAlignment="Right" Opacity=".7" FontWeight="DemiBold" />
                        <TextBlock Text="{Binding Template, Converter={StaticResource EnumDescriptionConverter}}" HorizontalAlignment="Right" FontSize="15" Opacity=".7"  />
                    </StackPanel>
                </DockPanel>
                <DockPanel>
                    <StackPanel DockPanel.Dock="Top" Margin="5,5,5,0" >
                        <TextBlock Text="{Binding Name}" FontWeight="Bold" FontSize="18" />
                    </StackPanel>
                    <TextBlock  Margin="5,0, 20, 4" Text="{Binding Description}" HorizontalAlignment="Left" Opacity=".7" TextWrapping="WrapWithOverflow"/>
                </DockPanel>
            </DockPanel>

            <DataTemplate.Triggers>
                <EventTrigger RoutedEvent="MouseEnter">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1.3" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1.3" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1.2" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1.2" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
                <EventTrigger RoutedEvent="MouseLeave">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="icon"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleX" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="image"  Storyboard.TargetProperty="RenderTransform.ScaleY" To="1" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <ExponentialEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>

        <ObjectDataProvider x:Key="LayoutViewType" MethodName="GetValues" ObjectType="{x:Type system:Enum}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="local:LayoutViewType"/>
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>

        <ItemsPanelTemplate x:Key="ItemsPanelListViewTemplate">
            <userControls:UniformWrapPanel  IsItemsHost="True" SnapsToDevicePixels="True" VerticalAlignment="Top" >
                <userControls:UniformWrapPanel.Style>
                    <Style TargetType="{x:Type userControls:UniformWrapPanel}" >
                        <Setter Property="MinItemWidth" Value="2000"/>
                        <Setter Property="MaxItemWidth" Value="2000"/>
                    </Style>
                </userControls:UniformWrapPanel.Style>
            </userControls:UniformWrapPanel>
        </ItemsPanelTemplate>

        <ItemsPanelTemplate x:Key="ItemsPanelItemSmallTemplate">
            <userControls:UniformWrapPanel  IsItemsHost="True" SnapsToDevicePixels="True" VerticalAlignment="Top" >
                <userControls:UniformWrapPanel.Style>
                    <Style TargetType="{x:Type userControls:UniformWrapPanel}" >
                        <Setter Property="MinItemWidth" Value="140"/>
                        <Setter Property="MaxItemWidth" Value="160"/>
                    </Style>
                </userControls:UniformWrapPanel.Style>
            </userControls:UniformWrapPanel>
        </ItemsPanelTemplate>

        <ItemsPanelTemplate x:Key="ItemsPanelItemLargeTemplate">
            <userControls:UniformWrapPanel  IsItemsHost="True" SnapsToDevicePixels="True" VerticalAlignment="Top" >
                <userControls:UniformWrapPanel.Style>
                    <Style TargetType="{x:Type userControls:UniformWrapPanel}" >
                        <Setter Property="MinItemWidth" Value="170"/>
                        <Setter Property="MaxItemWidth" Value="220"/>
                    </Style>
                </userControls:UniformWrapPanel.Style>
            </userControls:UniformWrapPanel>
        </ItemsPanelTemplate>

    </local:SettingsViewBase.Resources>

    <Grid DataContext="{Binding ElementName=UI}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="6*" />
            <ColumnDefinition Width="3*" MinWidth="450" />
        </Grid.ColumnDefinitions>

        <!--Left Container-->
        <DockPanel Grid.Column="0">

            <!--ListView Top Toolbar-->
            <Border DockPanel.Dock="Top" BorderBrush="{StaticResource ContainerBorder}" BorderThickness="1,1,1,0" Margin="0,0,0,5" Padding="5,0,5,5">
                <DockPanel>

                    <DockPanel DockPanel.Dock="Top">
                        <DockPanel  >
                            <StackPanel DockPanel.Dock="Left" Margin="0,0,5,0">
                                <TextBlock Text="Search"  Width="300" Style="{StaticResource FieldTextBlockStyle}"/>
                                <TextBox Text="{Binding ModelTemplateFilterSearch, UpdateSourceTrigger=PropertyChanged}"/>
                            </StackPanel>

                            <UniformGrid Columns="3" >

                                <StackPanel  Margin="0,0,5,0">
                                    <TextBlock Text="Model Type" Style="{StaticResource FieldTextBlockStyle}"/>
                                    <ComboBox SelectedItem="{Binding ModelTemplateFilterType}" ItemsSource="{Binding ModelTemplateFilterTypes}" SelectedIndex="0"/>
                                </StackPanel>

                                <StackPanel Margin="0,0,5,0">
                                    <TextBlock Text="Tag" Style="{StaticResource FieldTextBlockStyle}"/>
                                    <ComboBox SelectedItem="{Binding ModelTemplateFilterTag}" ItemsSource="{Binding ModelTemplateFilterTags}" SelectedIndex="0"/>
                                </StackPanel>

                                <!--Sort Options-->
                                <StackPanel HorizontalAlignment="Right">
                                    <TextBlock Text="Sort By" Style="{StaticResource FieldTextBlockStyle}"/>
                                    <DockPanel >
                                        <ComboBox DockPanel.Dock="Right" ItemsSource="{Binding Source={StaticResource ListSortDirection}}" SelectedItem="{Binding ModelTemplateSortDirection}" SelectedIndex="0" >
                                            <ComboBox.ItemTemplate>
                                                <DataTemplate>
                                                    <userControls:FontAwesome Color="{StaticResource ControlDefaultForeground}">
                                                        <userControls:FontAwesome.Style>
                                                            <Style TargetType="{x:Type userControls:FontAwesome}">
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding}" Value="Ascending">
                                                                        <Setter Property="Icon" Value="&#xf885;" />
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding}" Value="Descending">
                                                                        <Setter Property="Icon" Value="&#xf160;" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </userControls:FontAwesome.Style>
                                                    </userControls:FontAwesome>
                                                </DataTemplate>
                                            </ComboBox.ItemTemplate>
                                        </ComboBox>
                                        <ComboBox SelectedValue="{Binding ModelTemplateSortProperty}" SelectedIndex="0" SelectedValuePath="Content">
                                            <ComboBoxItem Content="Status" />
                                            <ComboBoxItem Content="Name" />
                                        </ComboBox>
                                    </DockPanel>
                                </StackPanel>
                            </UniformGrid>

                        </DockPanel>
                    </DockPanel>

                </DockPanel>
            </Border>

            <!--ListView Bottom Toolbar-->
            <Border DockPanel.Dock="Bottom" BorderBrush="{StaticResource ContainerBorder}" BorderThickness="1" Margin="0,5,0,0" Height="35">
                <DockPanel>
                    <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,0,0">
                            <TextBlock Text="Models:"  FontStyle="Italic" Opacity=".7"  Margin="0,0,5,0"/>
                            <TextBlock Text="{Binding ModelTemplateCollectionView.Count}" />
                            <TextBlock Text="/" Margin="3,0,1,0"/>
                            <TextBlock Text="{Binding Settings.Templates.Count}" />
                        </StackPanel>

                        <UniformGrid Columns="2" Height="24" Margin="20,0,0,0">
                            <Button Content="Import" Command="{Binding ImportModelTemplateCommand}" Width="80"/>
                            <Button Content="Export" Command="{Binding ExportModelTemplateCommand}" />
                        </UniformGrid>

                    </StackPanel>

                    <UniformGrid DockPanel.Dock="Right" Columns="4">
                        <TextBlock Text="Layout:" FontStyle="Italic" Opacity=".7" VerticalAlignment="Center"/>
                        <Button Width="50" Command="{Binding ModelTemplateLayoutCommand}" CommandParameter="{x:Static local:LayoutViewType.List}">
                            <userControls:FontAwesome Icon="&#xf03a;"  IconStyle="Light"/>
                            <Button.Style>
                                <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ModelTemplateLayoutView}" Value="List">
                                            <Setter Property="IsEnabled" Value="False" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button Command="{Binding ModelTemplateLayoutCommand}" CommandParameter="{x:Static local:LayoutViewType.TileSmall}">
                            <userControls:FontAwesome Icon="&#xf00a;"  IconStyle="Light"/>
                            <Button.Style>
                                <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ModelTemplateLayoutView}" Value="TileSmall">
                                            <Setter Property="IsEnabled" Value="False" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button Command="{Binding ModelTemplateLayoutCommand}" CommandParameter="{x:Static local:LayoutViewType.TileLarge}">
                            <userControls:FontAwesome Icon="&#xf009;"  IconStyle="Light"/>
                            <Button.Style>
                                <Style TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ModelTemplateLayoutView}" Value="TileLarge">
                                            <Setter Property="IsEnabled" Value="False" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                    </UniformGrid>
                    <UniformGrid></UniformGrid>
                </DockPanel>
            </Border>

            <!--ListView-->
            <Border BorderBrush="{StaticResource ContainerBorder}" BorderThickness="1,0,1,1" >
                <DockPanel>
                    <DockPanel Margin="-1,0,-1,0" DockPanel.Dock="Top">
                        <TabControl Style="{StaticResource SplitTabControl}" TextBlock.FontSize="12" SelectedIndex="{Binding SelectedCategory}">
                            <TabItem Height="28" HorizontalContentAlignment="Left" >
                                <TabItem.Header>
                                    <DockPanel>
                                        <userControls:FontAwesome DockPanel.Dock="Left" Icon="&#xf03a;"  IconStyle="Light" Margin="0,0,3,0" Size="12" VerticalAlignment="Center"/>
                                        <TextBlock Text="All Models" VerticalAlignment="Center"/>
                                    </DockPanel>
                                </TabItem.Header>
                            </TabItem>
                            <TabItem Height="28">
                                <TabItem.Header>
                                    <DockPanel>
                                        <userControls:FontAwesome DockPanel.Dock="Left" Icon="&#xf5fd;"  IconStyle="Light" Margin="0,0,3,0" Size="12" VerticalAlignment="Center"/>
                                        <TextBlock Text="StableDiffusion" VerticalAlignment="Center"/>
                                    </DockPanel>
                                </TabItem.Header>
                            </TabItem>
                            <TabItem  Height="28">
                                <TabItem.Header>
                                    <DockPanel>
                                        <userControls:FontAwesome DockPanel.Dock="Left" Icon="&#xf6ff;"  IconStyle="Light" Margin="0,0,3,0" Size="12" VerticalAlignment="Center"/>
                                        <TextBlock Text="ControlNet" VerticalAlignment="Center"/>
                                    </DockPanel>
                                </TabItem.Header>
                            </TabItem>
                            <TabItem  Height="28">
                                <TabItem.Header>
                                    <DockPanel>
                                        <userControls:FontAwesome DockPanel.Dock="Left" Icon="&#xf424;"  IconStyle="Light" Margin="0,2,3,0" Size="11" VerticalAlignment="Center"/>
                                        <TextBlock Text="Upscalers" VerticalAlignment="Center"/>
                                    </DockPanel>
                                </TabItem.Header>
                            </TabItem>
                            <TabItem Height="28">
                                <TabItem.Header>
                                    <DockPanel>
                                        <userControls:FontAwesome DockPanel.Dock="Left" Icon="&#xf302;"  IconStyle="Light" Margin="0,0,3,0" Size="12" VerticalAlignment="Center"/>
                                        <TextBlock Text="Extractors" VerticalAlignment="Center"/>
                                    </DockPanel>
                                </TabItem.Header>
                            </TabItem>
                            <TabItem  Height="28">
                                <TabItem.Header>
                                    <DockPanel>
                                        <userControls:FontAwesome DockPanel.Dock="Left" Icon="&#xf5fd;"  IconStyle="Light" Margin="0,0,3,0" Size="12" VerticalAlignment="Center"/>
                                        <TextBlock Text="Custom" VerticalAlignment="Center"/>
                                    </DockPanel>
                                </TabItem.Header>
                            </TabItem>
                        </TabControl>
                    </DockPanel>

                    <Grid>

                        <!--Backround Image-->
                        <userControls:CachedMedia CacheName="{Binding SelectedModelTemplate.Id}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages, Converter={StaticResource PickRandomItemConverter}, IsAsync=True}" Stretch="UniformToFill"  Opacity="0.17" Visibility="{Binding SelectedModelTemplate.StableDiffusionTemplate.PipelineType, Converter={StaticResource InverseEnumToVisibilityConverter}, ConverterParameter=Locomotion}"/>

                        <!--Empty Search View-->
                        <DockPanel Visibility="{Binding ModelTemplateCollectionView.IsEmpty, Converter={StaticResource BooleanToVisibilityConverter}}">
                            <StackPanel  VerticalAlignment="Center" HorizontalAlignment="Center">
                                <userControls:FontAwesome Icon="&#xf002;" Size="50"/>
                                <TextBlock Text="Search returned no results..." FontSize="25"/>
                            </StackPanel>
                        </DockPanel>

                        <!--ListBox-->
                        <ListBox ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                            ItemsSource="{Binding ModelTemplateCollectionView, Mode=TwoWay}" 
                            SelectedItem="{Binding SelectedModelTemplate, Mode=TwoWay}"
                            IsSynchronizedWithCurrentItem="True"
                            VerticalContentAlignment="Top"
                            Background="Transparent"
                            Visibility="{Binding ModelTemplateCollectionView.IsEmpty, Converter={StaticResource InverseBooleanToVisibilityConverter}}">
                            <i:Interaction.Behaviors>
                                <behaviors:ScrollIntoViewBehavior TrackedProperties="IsInstalled" />
                            </i:Interaction.Behaviors>
                            <ListBox.GroupStyle>
                                <GroupStyle>
                                    <GroupStyle.Panel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel Orientation="Vertical" />
                                        </ItemsPanelTemplate>
                                    </GroupStyle.Panel>
                                    <GroupStyle.ContainerStyle>
                                        <Style TargetType="{x:Type GroupItem}">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type GroupItem}">
                                                        <DockPanel>
                                                            <Grid DockPanel.Dock="Top">
                                                                <Border  BorderBrush="{StaticResource ControlDefaultForeground}" BorderThickness="0,0,0,1" Margin="3,4,3,6" Padding="0,0,0,2" Opacity=".6" >
                                                                    <TextBlock FontWeight="SemiBold" FontSize="18" TextAlignment="Center" Text="{Binding Name}"/>
                                                                </Border>
                                                                <Grid.Style>
                                                                    <Style TargetType="{x:Type Grid}">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding SelectedCategory, ElementName=UI}" Value="0">
                                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Grid.Style>
                                                            </Grid>
                                                            <ItemsPresenter Margin="0,0,0,20"/>
                                                        </DockPanel>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </GroupStyle.ContainerStyle>
                                </GroupStyle>
                            </ListBox.GroupStyle>
                            <ListBox.Style>
                                <Style TargetType="{x:Type ListBox}" BasedOn="{StaticResource {x:Type ListBox}}">
                                    <Setter Property="ItemsPanel" Value="{StaticResource ItemsPanelItemSmallTemplate}"/>
                                    <Setter Property="ItemTemplate" Value="{StaticResource LayoutViewItemSmallTemplate}"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ModelTemplateLayoutView}" Value="List">
                                            <Setter Property="ItemsPanel" Value="{StaticResource ItemsPanelListViewTemplate}"/>
                                            <Setter Property="ItemTemplate" Value="{StaticResource LayoutListViewTemplate}"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ModelTemplateLayoutView}" Value="TileLarge">
                                            <Setter Property="ItemsPanel" Value="{StaticResource ItemsPanelItemLargeTemplate}"/>
                                            <Setter Property="ItemTemplate" Value="{StaticResource LayoutViewItemLargeTemplate}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ListBox.Style>

                            <ListBox.ItemContainerStyle>
                                <Style TargetType="{x:Type ListBoxItem}">
                                    <Setter Property="Panel.ZIndex" Value="0" />
                                    <Setter Property="Padding" Value="0" />
                                    <Setter Property="Margin" Value="2"/>
                                    <Setter Property="BorderThickness" Value="2" />
                                    <Setter Property="BorderBrush" Value="{StaticResource ControlBrightDefaultBorderBrush }" />
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                    <Setter Property="VerticalContentAlignment" Value="Top"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="{x:Type ListBoxItem}">
                                                <Border Name="Border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" VerticalAlignment="Top">
                                                    <ContentPresenter Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" Margin="{TemplateBinding Padding}" />
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger  Property="IsSelected" Value="True" >
                                            <Setter Property="Background" Value="{StaticResource ControlMouseOverBackground}" />
                                            <Setter Property="BorderBrush" Value="{StaticResource AccentColour1}" />
                                        </Trigger>
                                        <DataTrigger Binding="{Binding ModelTemplateLayoutView, ElementName=UI}" Value="List">
                                            <Setter Property="Margin" Value="0,0,3,0"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ListBox.ItemContainerStyle>
                        </ListBox>

                    </Grid>
                </DockPanel>


            </Border>
        </DockPanel>


        <!--Right Container-->
        <DockPanel Grid.Column="1">

            <!--Left Container Main-->
            <Border BorderBrush="{StaticResource ContainerBorder}" BorderThickness="1" MinWidth="350" Margin="0,0,1,0" >
                <Grid>

                    <!--Empty Search View-->
                    <DockPanel Visibility="{Binding SelectedModelTemplate, Converter={StaticResource InverseNullVisibilityConverter}}">
                        <StackPanel  VerticalAlignment="Center" HorizontalAlignment="Center">
                            <userControls:FontAwesome Icon="&#xf002;" Size="50"/>
                            <TextBlock Text="Search returned no results..." FontSize="25"/>
                        </StackPanel>
                    </DockPanel>

                    <DockPanel Visibility="{Binding SelectedModelTemplate, Converter={StaticResource NullVisibilityConverter}}">

                        <!--Name Description-->
                        <StackPanel DockPanel.Dock="Top" >
                            <StackPanel Margin="5">
                                <TextBlock Text="{Binding SelectedModelTemplate.Name}" FontSize="24" FontWeight="DemiBold" HorizontalAlignment="Center"/>
                                <TextBlock Text="{Binding SelectedModelTemplate.Description}" FontSize="12" HorizontalAlignment="Center" TextWrapping="Wrap" Opacity=".9"/>
                            </StackPanel>



                            <Border BorderBrush="{StaticResource ContainerBorder}" BorderThickness="0,1,0,0" Margin="10, 5" />
                        </StackPanel>

                        <!--Model Information-->
                        <DockPanel DockPanel.Dock="Top">

                            <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">

                                <!--Icon Image-->
                                <Grid Margin="10,0,0,0">


                                    <!--Fixed-->
                                    <Border DockPanel.Dock="Left" Width="180" Height="180" BorderThickness="1" BorderBrush="{StaticResource WindowBorderColour}" >
                                        <userControls:FontAwesome DockPanel.Dock="Left" Size="100" >
                                            <userControls:FontAwesome.Style>
                                                <Style TargetType="{x:Type userControls:FontAwesome}">
                                                    <Setter Property="Icon" Value="&#xf5fd;" />
                                                    <Setter Property="Color" Value="{StaticResource AccentColour2}" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding SelectedModelTemplate.Group}" Value="Custom">
                                                            <Setter Property="Color" Value="{StaticResource AccentColour1}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding SelectedModelTemplate.Category}" Value="Upscaler">
                                                            <Setter Property="Icon" Value="&#xf424;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding SelectedModelTemplate.Category}" Value="ControlNet">
                                                            <Setter Property="Icon" Value="&#xf6ff;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding SelectedModelTemplate.Category}" Value="FeatureExtractor">
                                                            <Setter Property="Icon" Value="&#xf302;" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </userControls:FontAwesome.Style>
                                        </userControls:FontAwesome>
                                    </Border>

                                    <!--Online-->
                                    <Border DockPanel.Dock="Left" Width="180" Height="180" BorderThickness="1" BorderBrush="{StaticResource WindowBorderColour}" Visibility="{Binding SelectedModelTemplate.Group, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Online}">
                                        <userControls:CachedMedia DockPanel.Dock="Left" CacheName="{Binding SelectedModelTemplate.Id}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages, Converter={StaticResource PickRandomItemConverter}, IsAsync=True}" />
                                    </Border>




                                </Grid>

                                <!--Information-->
                                <Grid Margin="10,0">
                                    <StackPanel>
                                        <!--StableDiffusion Information-->
                                        <StackPanel Visibility="{Binding SelectedModelTemplate.Category, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=StableDiffusion}">
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="Pipeline: " Style="{StaticResource FieldTextBlockStyle}" />
                                                <TextBlock Text="{Binding SelectedModelTemplate.StableDiffusionTemplate.PipelineType}" VerticalAlignment="Bottom"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="ModelType: " Style="{StaticResource FieldTextBlockStyle}" />
                                                <TextBlock Text="{Binding SelectedModelTemplate.StableDiffusionTemplate.ModelType}" VerticalAlignment="Bottom"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="SampleSize: " Style="{StaticResource FieldTextBlockStyle}" />
                                                <TextBlock Text="{Binding SelectedModelTemplate.StableDiffusionTemplate.SampleSize}" VerticalAlignment="Bottom"/>
                                            </StackPanel>
                                            <TextBlock Text="Supports: " Style="{StaticResource FieldTextBlockStyle}" />
                                            <ItemsControl ItemsSource="{Binding SelectedModelTemplate.StableDiffusionTemplate.DiffuserTypes}">
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding ., Converter={StaticResource EnumDescriptionConverter}}" Margin="15,0,0,0" />
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </StackPanel>

                                        <!--Upscaler Information-->
                                        <StackPanel Visibility="{Binding SelectedModelTemplate.Category, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Upscaler}">
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="SampleSize: " Style="{StaticResource FieldTextBlockStyle}" />
                                                <TextBlock Text="{Binding SelectedModelTemplate.UpscaleTemplate.SampleSize}" VerticalAlignment="Bottom"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="ScaleFactor: " Style="{StaticResource FieldTextBlockStyle}" />
                                                <TextBlock Text="{Binding SelectedModelTemplate.UpscaleTemplate.ScaleFactor}" VerticalAlignment="Bottom"/>
                                            </StackPanel>

                                        </StackPanel>

                                        <!--ControlNet Information-->
                                        <StackPanel Visibility="{Binding SelectedModelTemplate.Category, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=ControlNet}">
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="ControlNetType: " Style="{StaticResource FieldTextBlockStyle}" />
                                            </StackPanel>
                                            <TextBlock Text="Supported Pipelines: " Style="{StaticResource FieldTextBlockStyle}" />
                                            <ItemsControl ItemsSource="{Binding SelectedModelTemplate.ControlNetTemplate.PipelineTypes}">
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding}" Margin="15,0,0,0"/>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </StackPanel>

                                        <!--FeatureExtractor Information-->
                                        <StackPanel Visibility="{Binding SelectedModelTemplate.Category, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=FeatureExtractor}">
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="SampleSize: " Style="{StaticResource FieldTextBlockStyle}" />
                                                <TextBlock Text="{Binding SelectedModelTemplate.FeatureExtractorTemplate.SampleSize}" VerticalAlignment="Bottom"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="IsControlNetSupported: " Style="{StaticResource FieldTextBlockStyle}" />
                                                <TextBlock Text="{Binding SelectedModelTemplate.FeatureExtractorTemplate.IsControlNetSupported}" VerticalAlignment="Bottom"/>
                                            </StackPanel>
                                        </StackPanel>


                                    </StackPanel>
                                </Grid>

                            </StackPanel>



                            <!--Update Settings-->
                            <Grid IsEnabled="{Binding SelectedModelTemplate.IsQueued, Converter={StaticResource InverseBoolConverter}}">
                                <StackPanel Margin="10,10" Visibility="{Binding SelectedModelTemplate.IsFixedInstall, Converter={StaticResource InverseBooleanToVisibilityConverter}}" IsEnabled="{Binding SelectedModelTemplate.IsDownloading, Converter={StaticResource InverseBoolConverter}}">
                                    <UniformGrid Columns="4" Height="32" Visibility="{Binding SelectedModelTemplate.Group, Converter={StaticResource InverseEnumToVisibilityConverter}, ConverterParameter=Fixed}" >
                                        <Button Command="{Binding UpdateModelSettingsCommand}"  Padding="10,0"  Visibility="{Binding SelectedModelTemplate.IsInstalled, Converter={StaticResource BooleanToHiddenConverter}}">
                                            <StackPanel Orientation="Horizontal" IsHitTestVisible="False">
                                                <userControls:FontAwesome Icon="&#xf1de;" IconStyle="Light" Size="12" />
                                                <TextBlock Text="Settings" Margin="3,0,0,0"/>
                                            </StackPanel>
                                        </Button>

                                        <UniformGrid Columns="2" >
                                            <Button Command="{Binding OpenModelDirectoryCommand}" HorizontalAlignment="Left"  Padding="10,0" ToolTip="Open Model Directory" Visibility="{Binding SelectedModelTemplate.IsInstalled, Converter={StaticResource BooleanToHiddenConverter}}">
                                                <userControls:FontAwesome Icon="&#xf07c;" IconStyle="Light" Size="12" />
                                            </Button>
                                            <Button Command="{Binding UpdateModelMetadataCommand}" HorizontalAlignment="Right"  Padding="10,0" Visibility="{Binding SelectedModelTemplate.Group, Converter={StaticResource EnumToHiddenConverter}, ConverterParameter=Custom}" >
                                                <userControls:FontAwesome Icon="&#xf303;" IconStyle="Light" Size="12" />
                                            </Button>
                                        </UniformGrid>
                                        <Button Command="{Binding UpdateModelCommand}" Style="{StaticResource WarningButtonStyle}" Padding="10,0" Visibility="{Binding SelectedModelTemplate.IsUpdateAvailable, Converter={StaticResource BooleanToVisibilityConverter} }">
                                            <StackPanel Orientation="Horizontal" IsHitTestVisible="False">
                                                <userControls:FontAwesome Icon="&#xf071;" IconStyle="Light" Size="12" Color="{StaticResource WarningColour}" />
                                                <TextBlock Text="Update" Margin="3,0,0,0" Foreground="{StaticResource WarningColour}" />
                                            </StackPanel>
                                        </Button>
                                        <Button Command="{Binding ViewModelMetadataCommand}"  Padding="10,0" >
                                            <StackPanel Orientation="Horizontal" IsHitTestVisible="False">
                                                <userControls:FontAwesome Icon="&#xf05a;" IconStyle="Light" Size="12" />
                                                <TextBlock Text="Metadata" Margin="3,0,0,0"/>
                                            </StackPanel>
                                        </Button>
                                    </UniformGrid>
                                </StackPanel>
                            </Grid>
                        </DockPanel>


                        <!--Preview Images-->
                        <DockPanel DockPanel.Dock="Bottom" >
                            <Grid DockPanel.Dock="Bottom" >
                                <UniformGrid  Columns="4" Rows="1" Margin="4" Visibility="{Binding SelectedModelTemplate.Group, ConverterParameter=Fixed, Converter={StaticResource InverseEnumToVisibilityConverter}}" >
                                    <Border BorderThickness="1" BorderBrush="{StaticResource ContainerBorder}" Margin="1"  ToolTipService.InitialShowDelay="0" ToolTipService.Placement="Top" ToolTipService.HorizontalOffset="-540" ToolTipService.VerticalOffset="-10">
                                        <userControls:CachedMedia  IsLazyCache="True" CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[0], IsAsync=True}" />
                                        <Border.ToolTip>
                                            <userControls:CachedMedia CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[0], IsAsync=True}" Margin="0,4" Width="512"/>
                                        </Border.ToolTip>
                                    </Border>
                                    <Border BorderThickness="1" BorderBrush="{StaticResource ContainerBorder}" Margin="1" ToolTipService.InitialShowDelay="0" ToolTipService.Placement="Top" ToolTipService.HorizontalOffset="-540" ToolTipService.VerticalOffset="-10">
                                        <userControls:CachedMedia IsLazyCache="True" CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[1], IsAsync=True}" />
                                        <Border.ToolTip>
                                            <userControls:CachedMedia  CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[1], IsAsync=True}" Margin="0,4" Width="512"/>
                                        </Border.ToolTip>
                                    </Border>
                                    <Border BorderThickness="1" BorderBrush="{StaticResource ContainerBorder}" Margin="1" ToolTipService.InitialShowDelay="0" ToolTipService.Placement="Top" ToolTipService.HorizontalOffset="-540" ToolTipService.VerticalOffset="-10">
                                        <userControls:CachedMedia IsLazyCache="True" CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[2], IsAsync=True}" />
                                        <Border.ToolTip>
                                            <userControls:CachedMedia  CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[2], IsAsync=True}" Margin="0,4" Width="512"/>
                                        </Border.ToolTip>
                                    </Border>
                                    <Border BorderThickness="1" BorderBrush="{StaticResource ContainerBorder}" Margin="1" ToolTipService.InitialShowDelay="0" ToolTipService.Placement="Top" ToolTipService.HorizontalOffset="-540" ToolTipService.VerticalOffset="-10">
                                        <userControls:CachedMedia IsLazyCache="True" CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[3], IsAsync=True}" />
                                        <Border.ToolTip>
                                            <userControls:CachedMedia CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[3], IsAsync=True}" Margin="0,4" Width="512"/>
                                        </Border.ToolTip>
                                    </Border>
                                </UniformGrid>
                                <UniformGrid  Columns="4" Rows="1" Margin="4" Visibility="{Binding SelectedModelTemplate.Group, ConverterParameter=Fixed, Converter={StaticResource EnumToVisibilityConverter}}">
                                    <Border BorderThickness="1" BorderBrush="{StaticResource ContainerBorder}" Margin="1"  >
                                        <userControls:CachedMedia IsLazyCache="True" CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[0], IsAsync=True}" Opacity="0.6" />
                                    </Border>
                                    <Border BorderThickness="1" BorderBrush="{StaticResource ContainerBorder}" Margin="1">
                                        <userControls:CachedMedia IsLazyCache="True" CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[1], IsAsync=True}" Opacity="0.6" />
                                    </Border>
                                    <Border BorderThickness="1" BorderBrush="{StaticResource ContainerBorder}" Margin="1">
                                        <userControls:CachedMedia IsLazyCache="True" CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[2], IsAsync=True}" Opacity="0.6" />
                                    </Border>
                                    <Border BorderThickness="1" BorderBrush="{StaticResource ContainerBorder}" Margin="1">
                                        <userControls:CachedMedia IsLazyCache="True" CacheName="{Binding SelectedModelTemplate.Id}" Placeholder="{Binding Source={StaticResource PlaceholderImage}}" MediaUrl="{Binding SelectedModelTemplate.PreviewImages[3], IsAsync=True}" Opacity="0.6" />
                                    </Border>
                                </UniformGrid>
                            </Grid>

                            <!--Repository-->
                            <StackPanel Visibility="{Binding SelectedModelTemplate.Group, ConverterParameter=Fixed, Converter={StaticResource InverseEnumToVisibilityConverter}}">

                                <Border BorderBrush="{StaticResource ContainerBorder}" BorderThickness="0,1,0,0" Margin="10, 0" />
                                <UniformGrid Columns="2">
                                    <StackPanel HorizontalAlignment="Center">
                                        <TextBlock Text="Memory" Style="{StaticResource FieldTextBlockStyle}" TextAlignment="Center"/>

                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                            <TextBlock TextAlignment="Center" >
                                                <Run Text="{Binding SelectedModelTemplate.MemoryMin, StringFormat={}{0}GB, Mode=OneWay}" />
                                                <Run Text="- " />
                                                <TextBlock.Style>
                                                    <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource {x:Type TextBlock}}">
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding SelectedModelTemplate.MemoryMin}" Value="0">
                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                            <TextBlock Text="{Binding SelectedModelTemplate.MemoryMax, StringFormat={}{0}GB, Mode=OneWay}" TextAlignment="Center" />
                                        </StackPanel>

                                    </StackPanel>

                                    <StackPanel HorizontalAlignment="Center">
                                        <TextBlock Text="Disk" Style="{StaticResource FieldTextBlockStyle}" TextAlignment="Center"/>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                            <TextBlock Text="{Binding SelectedModelTemplate.DownloadSize}" TextAlignment="Center"/>
                                            <TextBlock Text="GB" />
                                        </StackPanel>
                                    </StackPanel>

                                </UniformGrid>

                                <StackPanel Visibility="{Binding SelectedModelTemplate.Group, ConverterParameter=Custom, Converter={StaticResource InverseEnumToVisibilityConverter}}">

                                    <Border BorderBrush="{StaticResource ContainerBorder}" BorderThickness="0,1,0,0" Margin="10, 3,10,0" />

                                    <UniformGrid Columns="2" Margin="5,0" >
                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="Author" Style="{StaticResource FieldTextBlockStyle}" TextAlignment="Center"/>
                                            <TextBlock Text="{Binding SelectedModelTemplate.Author}" TextAlignment="Center"/>
                                        </StackPanel>

                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="Repository" Style="{StaticResource FieldTextBlockStyle}" TextAlignment="Center"/>
                                            <userControls:HyperlinkControl Link="{Binding SelectedModelTemplate.Repository}" Label="{Binding SelectedModelTemplate.Repository, Converter={StaticResource FullPathToFileNameConverter}}" IsUnderlineEnabled="False" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </UniformGrid>

                                    <Border BorderBrush="{StaticResource ContainerBorder}" BorderThickness="0,1,0,0" Margin="10, 3,10,0" />

                                    <UniformGrid Columns="2" Margin="5,0" >
                                        <!--<StackPanel HorizontalAlignment="Center" >
                                            <TextBlock Text="Licence Type" Style="{StaticResource FieldTextBlockStyle}" TextAlignment="Center"/>
                                            <TextBlock Text="{Binding SelectedModelTemplate.LicenceType, Converter={StaticResource EnumDescriptionConverter}}" />
                                        </StackPanel>-->

                                        <StackPanel HorizontalAlignment="Center" Margin="5,0">
                                            <TextBlock Text="Website: " Style="{StaticResource FieldTextBlockStyle}" TextAlignment="Center"/>
                                            <userControls:HyperlinkControl Link="{Binding SelectedModelTemplate.Website}" Label="{Binding SelectedModelTemplate.Website}" IsUnderlineEnabled="False" VerticalAlignment="Center"/>
                                        </StackPanel>

                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="Licence" Style="{StaticResource FieldTextBlockStyle}" TextAlignment="Center"/>
                                            <userControls:HyperlinkControl Link="{Binding SelectedModelTemplate.Licence}" Label="{Binding SelectedModelTemplate.Licence, Converter={StaticResource FullPathToFileNameConverter}}" IsUnderlineEnabled="False" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </UniformGrid>

                                </StackPanel>





                            </StackPanel>

                        </DockPanel>



                        <Grid>

                            <!--Fixed Template-->
                            <DockPanel Margin="10, 5" Visibility="{Binding SelectedModelTemplate.Group, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Fixed}" >

                                <!--Action Buttons-->
                                <StackPanel DockPanel.Dock="Top">
                                    <DockPanel Visibility="{Binding SelectedModelTemplate.IsInstalled, Converter={StaticResource InverseBooleanToVisibilityConverter}}">
                                        <Button DockPanel.Dock="Left" Content="Install Model" Command="{Binding InstallModelCommand}" Height="32" Width="180"  Margin="0,0,5,0"/>
                                        <TextBlock Text="{Binding SelectedModelTemplate.Name, StringFormat={}Install a {0} based model you have already downloaded and saved}" TextWrapping="Wrap" VerticalAlignment="Center" Style="{StaticResource FieldTextBlockStyle}" />
                                    </DockPanel>
                                </StackPanel>

                                <TextBlock />

                            </DockPanel>

                            <!--Online Template-->
                            <DockPanel Margin="10, 5" Visibility="{Binding SelectedModelTemplate.Group, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Online}">


                                <!--Action Buttons-->
                                <StackPanel DockPanel.Dock="Top" Visibility="{Binding SelectedModelTemplate.IsFixedInstall, Converter={StaticResource InverseBooleanToVisibilityConverter}}">
                                    <StackPanel >

                                        <UniformGrid Columns="3"  Visibility="{Binding SelectedModelTemplate.IsInstalled, Converter={StaticResource InverseBooleanToVisibilityConverter}}" Height="34">

                                            <Grid DockPanel.Dock="Left"  Margin="0,0,2,0">
                                                <Button  Content="Download Model" Command="{Binding DownloadModelCommand}" Visibility="{Binding SelectedModelTemplate.IsDownloading, Converter={StaticResource InverseBooleanToVisibilityConverter}}" IsEnabled="{Binding SelectedModelTemplate.IsDownloading, Converter={StaticResource InverseBoolConverter}}">
                                                    <Button.ToolTip>
                                                        <TextBlock Text="{Binding SelectedModelTemplate.Name, StringFormat={}Downloads {0} from the internet}" TextWrapping="Wrap" VerticalAlignment="Center" Style="{StaticResource FieldTextBlockStyle}" />
                                                    </Button.ToolTip>
                                                </Button>
                                                <Button Content="Cancel Download" Command="{Binding DownloadModelCancelCommand}" Visibility="{Binding SelectedModelTemplate.IsDownloading, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                            </Grid>


                                            <Button DockPanel.Dock="Left" Content="Install Model" Command="{Binding InstallModelCommand}"  ToolTipService.ShowOnDisabled="True" IsEnabled="{Binding SelectedModelTemplate.IsDownloading, Converter={StaticResource InverseBoolConverter}}">
                                                <Button.ToolTip>
                                                    <TextBlock Text="{Binding SelectedModelTemplate.Name, StringFormat={}Install a {0} based model you have already downloaded and saved}" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button DockPanel.Dock="Left" Content="Remove Model" Command="{Binding RemoveModelCommand}" Margin="2,0,0,0" IsEnabled="{Binding SelectedModelTemplate.IsDownloading, Converter={StaticResource InverseBoolConverter}}">
                                                <Button.ToolTip>
                                                    <TextBlock Text="Removes the Model template from the application, no files are deleted" TextWrapping="Wrap" VerticalAlignment="Center" Style="{StaticResource FieldTextBlockStyle}" />
                                                </Button.ToolTip>
                                            </Button>
                                        </UniformGrid>

                                        <Grid>
                                            <Grid IsEnabled="{Binding SelectedModelTemplate.IsQueued, Converter={StaticResource InverseBoolConverter}}">
                                                <Grid IsEnabled="{Binding SelectedModelTemplate.IsDownloading, Converter={StaticResource InverseBoolConverter}}">
                                                    <UniformGrid Columns="3" Visibility="{Binding SelectedModelTemplate.IsInstalled, Converter={StaticResource BooleanToVisibilityConverter}}" Height="34">
                                                        <Button DockPanel.Dock="Left" Content="Uninstall Model" Command="{Binding UninstallModelCommand}" Margin="0,0,2,0">
                                                            <Button.ToolTip>
                                                                <TextBlock Text="Uninstall model, template will remain listed for easy re-install, no files are deleted" TextWrapping="Wrap" VerticalAlignment="Center" Style="{StaticResource FieldTextBlockStyle}" />
                                                            </Button.ToolTip>
                                                        </Button>
                                                        <Button DockPanel.Dock="Left" Content="Delete Model" Command="{Binding DeleteModelCommand}" Margin="0,0,2,0">
                                                            <Button.ToolTip>
                                                                <TextBlock Text="Uninstall and Delete all model files, template will remain listed for easy re-install" TextWrapping="Wrap" VerticalAlignment="Center" Style="{StaticResource FieldTextBlockStyle}" />
                                                            </Button.ToolTip>
                                                        </Button>
                                                        <Button DockPanel.Dock="Left" Content="Remove Model" Command="{Binding RemoveModelCommand}" >
                                                            <Button.ToolTip>
                                                                <TextBlock Text="Removes the Model template from the application, no files are deleted" TextWrapping="Wrap" VerticalAlignment="Center" Style="{StaticResource FieldTextBlockStyle}" />
                                                            </Button.ToolTip>
                                                        </Button>
                                                    </UniformGrid>
                                                </Grid>
                                            </Grid>

                                            <UniformGrid Columns="3" Visibility="{Binding SelectedModelTemplate.IsInstalled, Converter={StaticResource BooleanToVisibilityConverter}}">
                                                <Button  Content="Cancel Download" Command="{Binding DownloadModelCancelCommand}" Visibility="{Binding SelectedModelTemplate.IsDownloading, Converter={StaticResource BooleanToVisibilityConverter}}" Margin="0,0,2,0"/>
                                            </UniformGrid>
                                        </Grid>

                                    </StackPanel>
                                    <DockPanel Margin="0,4,0,0" Visibility="{Binding SelectedModelTemplate.IsDownloading, Converter={StaticResource BooleanToVisibilityConverter}}">

                                        <DockPanel DockPanel.Dock="Bottom" LastChildFill="False" Visibility="{Binding SelectedModelTemplate.IsQueued, Converter={StaticResource InverseBooleanToVisibilityConverter}}">
                                            <TextBlock DockPanel.Dock="Left" Style="{StaticResource FieldTextBlockStyle}">
                                               <Run Text="{Binding SelectedModelTemplate.DownloadInfo.DownloadAmount, Mode=OneWay, FallbackValue=0 GB, Converter={StaticResource DownloadAmountConverter}}" />
                                               <Run Text="\" />
                                               <Run Text="{Binding SelectedModelTemplate.DownloadSize, Mode=OneWay, FallbackValue=0 GB, StringFormat={}{0:F2} GB}"  />
                                               <Run Text="  @  " />
                                               <Run Text="{Binding SelectedModelTemplate.DownloadInfo.DownloadSpeed, Mode=OneWay, FallbackValue=0 b/s, Converter={StaticResource DownloadSpeedConverter}}"  />
                                            </TextBlock>
                                            <TextBlock DockPanel.Dock="Right" Style="{StaticResource FieldTextBlockStyle}">
                                              <Run Text="Time Remaining: " />
                                              <Run Text="{Binding SelectedModelTemplate.DownloadInfo.TimeRemaining, Mode=OneWay, FallbackValue=0 sec, Converter={StaticResource DownloadTimeConverter}}"  />
                                            </TextBlock>
                                        </DockPanel>

                                        <TextBlock DockPanel.Dock="Bottom" Style="{StaticResource FieldTextBlockStyle}" Text="{Binding SelectedModelTemplate.Name, Mode=OneWay, StringFormat={}{0} Queued for download...}" Visibility="{Binding SelectedModelTemplate.IsQueued, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                        <ProgressBar Value="{Binding SelectedModelTemplate.ProgressValue}" Maximum="100" Height="10" IsIndeterminate="{Binding SelectedModelTemplate.IsQueued}" />
                                    </DockPanel>
                                    <TextBlock DockPanel.Dock="Bottom" Text="{Binding SelectedModelTemplate.ErrorMessage}" Style="{StaticResource FieldTextBlockStyle}" Foreground="Red" TextAlignment="Center" TextWrapping="Wrap" Visibility="{Binding SelectedModelTemplate.ErrorMessage, Converter={StaticResource NullOrEmptyVisibilityConverter}}"/>

                                </StackPanel>


                                <TextBlock />

                            </DockPanel>


                            <!--Custom Template-->
                            <DockPanel Margin="10, 5" Visibility="{Binding SelectedModelTemplate.Group, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter=Custom}">

                                <!--Action Buttons-->
                                <StackPanel DockPanel.Dock="Top">
                                    <DockPanel Visibility="{Binding SelectedModelTemplate.IsInstalled, Converter={StaticResource InverseBooleanToVisibilityConverter}}">
                                        <Button DockPanel.Dock="Left" Content="Install Model" Command="{Binding InstallModelCommand}" Height="32" Width="180" Margin="0,2,5,0"/>
                                        <TextBlock Text="{Binding SelectedModelTemplate.Name, StringFormat={}Install a {0} based model you have already downloaded and saved}" TextWrapping="Wrap" VerticalAlignment="Center" Style="{StaticResource FieldTextBlockStyle}" />
                                    </DockPanel>
                                    <DockPanel Visibility="{Binding SelectedModelTemplate.IsInstalled, Converter={StaticResource BooleanToVisibilityConverter}}">
                                        <Button DockPanel.Dock="Left" Content="Uninstall Model" Command="{Binding UninstallModelCommand}" Height="32" Width="180" Margin="0,2,5,0"/>
                                        <TextBlock Text="Uninstall model, template will remain listed for easy re-install, no files are deleted" TextWrapping="Wrap" VerticalAlignment="Center" Style="{StaticResource FieldTextBlockStyle}" />
                                    </DockPanel>
                                    <DockPanel>
                                        <Button DockPanel.Dock="Left" Content="Remove Model" Command="{Binding RemoveModelCommand}" Height="32" Width="180"  Margin="0,2,5,0"/>
                                        <TextBlock Text="Removes the Model template from the application, no files are deleted" TextWrapping="Wrap" VerticalAlignment="Center" Style="{StaticResource FieldTextBlockStyle}" />
                                    </DockPanel>
                                </StackPanel>

                                <TextBlock />

                            </DockPanel>

                        </Grid>

                    </DockPanel>

                </Grid>
            </Border>
        </DockPanel>

    </Grid>
</local:SettingsViewBase>
