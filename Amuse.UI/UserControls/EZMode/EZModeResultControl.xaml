<UserControl x:Class="Amuse.UI.UserControls.EZModeResultControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Amuse.UI.UserControls"
             xmlns:userControls="clr-namespace:Amuse.UI.UserControls"
             mc:Ignorable="d" 
             d:DesignHeight="512" 
             d:DesignWidth="512"
             Focusable="True"
             Name="UI">
    <UserControl.InputBindings>
        <KeyBinding Modifiers="Ctrl" Key="C" Command="{Binding CopyImageCommand, ElementName=UI}" CommandParameter="{Binding Result, ElementName=UI}" />
        <KeyBinding Modifiers="Ctrl" Key="S" Command="{Binding SaveImageCommand, ElementName=UI}" CommandParameter="{Binding Result, ElementName=UI}" />
    </UserControl.InputBindings>
    <Grid DataContext="{Binding ElementName=UI}" >
        <userControls:ImageElement 
              Original="{Binding Original.Image}"
              Source="{Binding Result.Image}"
              Preview="{Binding Preview}"
              IsSplitterEnabled="{Binding IsSplitterEnabled}"
              SplitterDirection="LeftToRight"
              SplitterPosition="Source"
              SplitterVisibility="Auto">

            <userControls:ImageElement.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Copy" InputGestureText="Ctrl+C" Command="{Binding CopyImageCommand}" CommandParameter="{Binding Result}" IsEnabled="{Binding Result, Converter={StaticResource NullBooleanConverter}}" >
                        <MenuItem.Icon>
                            <local:FontAwesome Icon="&#xf0c5;" IconStyle="Light" Size="15" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Save" InputGestureText="Ctrl+S" Command="{Binding SaveImageCommand}" CommandParameter="{Binding Result}" IsEnabled="{Binding Result, Converter={StaticResource NullBooleanConverter}}" >
                        <MenuItem.Icon>
                            <local:FontAwesome Icon="&#xf0c7;" IconStyle="Light" Size="15"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </ContextMenu>
            </userControls:ImageElement.ContextMenu>
        </userControls:ImageElement>

    </Grid>
</UserControl>
